# 🔥 AI People Flow Heatmap App

リアルタイムAI人検出とヒートマップ可視化、タイムラプス動画生成機能を搭載したWebアプリケーション

## 🌐 Live Demo
**Visit: https://abogadoatusi.github.io/Web-Camera-People-Flow-Heatmap-App/**

## ✨ 主な機能

### 🎥 リアルタイム人検出
- TensorFlow.js + COCO-SSDモデルによるブラウザ内AI人検出
- Webカメラからのリアルタイム映像解析
- 検出精度50%以上の人物を追跡

### 🔥 人流ヒートマップ
- 人の検出位置を密度マップとして可視化
- 4段階の密度表示（低密度→最高密度）
- リアルタイム減衰機能で時間経過を反映

### 🎬 タイムラプス動画生成
- 記録したヒートマップデータから動画生成
- 5段階の品質設定（最高品質〜超軽量）
- フレーム間引き機能で滑らかな再生
- WebM形式での動画ダウンロード

### 📊 統計情報
- 総検出数・現在人数・ピーク活動の追跡
- 記録時間・フレーム数・圧縮比の表示
- リアルタイム更新

## 🚀 使い方

### 基本操作
1. **「📹 AI人検出開始」** - Webカメラでリアルタイム検出
2. **「🎬 デモモード」** - カメラなしでデモ体験
3. **「🔴 記録開始」** - タイムラプス用データ記録
4. **「🎥 タイムラプス動画保存」** - 動画生成・ダウンロード

### 設定項目
- **記録間隔**: 0.1秒〜2秒（フレーム記録頻度）
- **再生速度**: 5x〜50x（タイムラプス速度）
- **動画品質**: 最高品質〜超軽量（フレーム間引き+FPS）

## 🛠 技術仕様

### フロントエンド
- **HTML5 Canvas** - リアルタイム描画
- **MediaRecorder API** - 動画生成
- **getUserMedia API** - カメラアクセス

### AI/ML
- **TensorFlow.js** - ブラウザ内機械学習
- **COCO-SSD** - 物体検出モデル
- **WebGL加速** - 高速推論

### 動画処理
- **2段階生成**: フレーム準備→記録
- **品質最適化**: フレーム間引き機能
- **WebM出力**: 軽量で高品質

## 📱 対応環境

- **ブラウザ**: Chrome, Firefox, Safari, Edge（最新版）
- **デバイス**: PC, タブレット, スマートフォン
- **要件**: Webカメラ（任意）、JavaScript有効

## 🌟 デプロイ方法

### GitHub Pages
1. GitHubリポジトリをフォーク
2. Settings → Pages で Source を「Deploy from a branch」に設定
3. Branch を「main」に設定
4. 数分でデプロイ完了

### ローカル実行
```bash
# HTTPサーバーで起動（カメラアクセスにHTTPS推奨）
npx http-server -p 8000 -c-1
# または
python3 -m http.server 8000
```

## 📈 パフォーマンス

- **AI推論**: ~30fps（WebGL加速時）
- **ヒートマップ更新**: ~60fps
- **動画生成**: 3fps標準、最大8fps
- **メモリ使用量**: 100-200MB

## 🔒 プライバシー

- **完全ローカル処理** - データは外部送信されません
- **ブラウザ内AI** - サーバーへの画像送信なし
- **一時的記録** - ページリロードでデータ消去

## 📄 ライセンス

MIT License - 自由に使用・改変・配布可能

## 🤝 貢献

Issues・Pull Requests歓迎！

---
**Created with ❤️ using TensorFlow.js and modern web technologies**
